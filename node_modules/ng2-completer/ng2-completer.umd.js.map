{"version":3,"file":null,"sources":["components/ng2-completer/services/completer-data-factory.js","directives/ctr-completer.js","globals.js","components/ng2-completer/completer-cmp.js","components/ng2-completer/completer-list-item-cmp.js","components/ng2-completer/services/completer-base-data.js","components/ng2-completer/services/local-data.js","components/ng2-completer/services/remote-data.js","components/ng2-completer/services/completer-service.js","directives/ctr-dropdown.js","directives/ctr-input.js","directives/ctr-list.js","directives/ctr-row.js","ng2-completer.module.js"],"sourcesContent":["import { Http } from \"@angular/http\";\nimport { LocalData } from \"./local-data\";\nimport { RemoteData } from \"./remote-data\";\nexport function localDataFactory() {\n    return function () {\n        return new LocalData();\n    };\n}\nexport function remoteDataFactory(http) {\n    return function () {\n        return new RemoteData(http);\n    };\n}\nexport var LocalDataFactoryProvider = { provide: LocalData, useFactory: localDataFactory };\nexport var RemoteDataFactoryProvider = { provide: RemoteData, useFactory: remoteDataFactory, deps: [Http] };\n//# sourceMappingURL=completer-data-factory.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Directive, EventEmitter, Output } from \"@angular/core\";\nvar CtrCompleter = (function () {\n    function CtrCompleter() {\n        this.selected = new EventEmitter();\n        this.highlighted = new EventEmitter();\n        this._hasHighlited = false;\n    }\n    CtrCompleter.prototype.ngOnInit = function () {\n        //\n    };\n    CtrCompleter.prototype.registerList = function (list) {\n        this.list = list;\n    };\n    CtrCompleter.prototype.registerDropdown = function (dropdown) {\n        this.dropdown = dropdown;\n    };\n    CtrCompleter.prototype.onHighlighted = function (item) {\n        this.highlighted.emit(item);\n        this._hasHighlited = true;\n    };\n    CtrCompleter.prototype.onSelected = function (item) {\n        this.selected.emit(item);\n        this.clear();\n    };\n    CtrCompleter.prototype.search = function (term) {\n        if (this.list) {\n            this.list.search(term);\n        }\n    };\n    CtrCompleter.prototype.clear = function () {\n        if (this.dropdown) {\n            this.dropdown.clear();\n        }\n        if (this.list) {\n            this.list.clear();\n        }\n        this._hasHighlited = false;\n    };\n    CtrCompleter.prototype.selectCurrent = function () {\n        if (this.dropdown) {\n            this.dropdown.selectCurrent();\n        }\n    };\n    CtrCompleter.prototype.nextRow = function () {\n        if (this.dropdown) {\n            this.dropdown.nextRow();\n        }\n    };\n    CtrCompleter.prototype.prevRow = function () {\n        if (this.dropdown) {\n            this.dropdown.prevRow();\n        }\n    };\n    CtrCompleter.prototype.hasHighlited = function () {\n        return this._hasHighlited;\n    };\n    return CtrCompleter;\n}());\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CtrCompleter.prototype, \"selected\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CtrCompleter.prototype, \"highlighted\", void 0);\nCtrCompleter = __decorate([\n    Directive({\n        selector: \"[ctrCompleter]\",\n    }),\n    __metadata(\"design:paramtypes\", [])\n], CtrCompleter);\nexport { CtrCompleter };\n//# sourceMappingURL=ctr-completer.js.map","export var MAX_CHARS = 524288; // the default max length per the html maxlength attribute\n// the default max length per the html maxlength attribute\nexport var MIN_SEARCH_LENGTH = 3;\nexport var PAUSE = 250;\nexport var TEXT_SEARCHING = \"Searching...\";\nexport var TEXT_NORESULTS = \"No results found\";\n//# sourceMappingURL=globals.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component, Input, Output, EventEmitter, ViewChild, forwardRef } from \"@angular/core\";\nimport { NG_VALUE_ACCESSOR } from \"@angular/forms\";\nimport { CtrCompleter } from \"../../directives/ctr-completer\";\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NORESULTS } from \"../../globals\";\nimport \"rxjs/add/operator/catch\";\nvar noop = function () { };\nvar COMPLETER_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(function () { return CompleterCmp; }),\n    multi: true\n};\nvar CompleterCmp = (function () {\n    function CompleterCmp() {\n        this.inputName = \"\";\n        this.pause = PAUSE;\n        this.minSearchLength = MIN_SEARCH_LENGTH;\n        this.maxChars = MAX_CHARS;\n        this.overrideSuggested = false;\n        this.clearSelected = false;\n        this.placeholder = \"\";\n        this.textSearching = TEXT_SEARCHING;\n        this.textNoResults = TEXT_NORESULTS;\n        this.autoMatch = false;\n        this.disableInput = false;\n        this.selected = new EventEmitter();\n        this.highlighted = new EventEmitter();\n        this.blur = new EventEmitter();\n        this.searchStr = \"\";\n        this.displaySearching = true;\n        this._onTouchedCallback = noop;\n        this._onChangeCallback = noop;\n    }\n    Object.defineProperty(CompleterCmp.prototype, \"value\", {\n        get: function () { return this.searchStr; },\n        set: function (v) {\n            if (v !== this.searchStr) {\n                this.searchStr = v;\n                this._onChangeCallback(v);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    CompleterCmp.prototype.onTouched = function () {\n        this._onTouchedCallback();\n    };\n    CompleterCmp.prototype.writeValue = function (value) {\n        this.searchStr = value;\n    };\n    CompleterCmp.prototype.registerOnChange = function (fn) {\n        this._onChangeCallback = fn;\n    };\n    CompleterCmp.prototype.registerOnTouched = function (fn) {\n        this._onTouchedCallback = fn;\n    };\n    CompleterCmp.prototype.ngOnInit = function () {\n        var _this = this;\n        this.completer.selected.subscribe(function (item) {\n            var title = item ? item.title : \"\";\n            _this.selected.emit(item);\n            _this._onChangeCallback(title);\n        });\n        this.completer.highlighted.subscribe(function (item) {\n            _this.highlighted.emit(item);\n        });\n        if (this.textSearching === \"false\") {\n            this.displaySearching = false;\n        }\n    };\n    CompleterCmp.prototype.onBlur = function () {\n        this.blur.emit();\n        this.onTouched();\n    };\n    return CompleterCmp;\n}());\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"dataService\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"inputName\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"pause\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"minSearchLength\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"maxChars\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"overrideSuggested\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"clearSelected\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"placeholder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CompleterCmp.prototype, \"matchClass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"textSearching\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"textNoResults\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number)\n], CompleterCmp.prototype, \"fieldTabindex\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"autoMatch\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"disableInput\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"selected\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"highlighted\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], CompleterCmp.prototype, \"blur\", void 0);\n__decorate([\n    ViewChild(CtrCompleter),\n    __metadata(\"design:type\", CtrCompleter)\n], CompleterCmp.prototype, \"completer\", void 0);\nCompleterCmp = __decorate([\n    Component({\n        selector: \"ng2-completer\",\n        template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <input class=\\\"completer-input\\\" ctrInput [(ngModel)]=\\\"searchStr\\\" [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\" [attr.maxlength]=\\\"maxChars\\\"\\n                [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\" [clearSelected]=\\\"clearSelected\\\" [overrideSuggested]=\\\"overrideSuggested\\\" (blur)=\\\"onBlur()\\\"\\n                autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n\\n            <div class=\\\"completer-dropdown-holder\\\" *ctrList=\\\"dataService; minSearchLength: minSearchLength; pause: pause; autoMatch: autoMatch; let items = results; let searchActive = searching; let isInitialized = searchInitialized;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown *ngIf=\\\"isInitialized\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{textSearching}}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items.length === 0)\\\" class=\\\"completer-no-results\\\">{{textNoResults}}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\" [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\" class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\n        styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px; \\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\n        providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\n    }),\n    __metadata(\"design:paramtypes\", [])\n], CompleterCmp);\nexport { CompleterCmp };\n//# sourceMappingURL=completer-cmp.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component, Input } from \"@angular/core\";\nvar CompleterListItemCmp = (function () {\n    function CompleterListItemCmp() {\n        this.parts = [];\n    }\n    CompleterListItemCmp.prototype.ngOnInit = function () {\n        var matchStr = this.text.toLowerCase();\n        var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\n        var startIndex = 0;\n        while (matchPos >= 0) {\n            var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\n            if (matchPos === 0) {\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length;\n            }\n            else if (matchPos > 0) {\n                var matchPart = this.text.slice(startIndex, matchPos);\n                this.parts.push({ isMatch: false, text: matchPart });\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length + matchPart.length;\n            }\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\n        }\n        if (startIndex < this.text.length) {\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\n        }\n    };\n    return CompleterListItemCmp;\n}());\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CompleterListItemCmp.prototype, \"text\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CompleterListItemCmp.prototype, \"searchStr\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CompleterListItemCmp.prototype, \"matchClass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], CompleterListItemCmp.prototype, \"type\", void 0);\nCompleterListItemCmp = __decorate([\n    Component({\n        selector: \"completer-list-item\",\n        template: \"\\n    <span class=\\\"completer-list-item-holder\\\" [ngClass]=\\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]=\\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\\n    \"\n    }),\n    __metadata(\"design:paramtypes\", [])\n], CompleterListItemCmp);\nexport { CompleterListItemCmp };\n//# sourceMappingURL=completer-list-item-cmp.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { Subject } from \"rxjs/Subject\";\nvar CompleterBaseData = (function (_super) {\n    __extends(CompleterBaseData, _super);\n    function CompleterBaseData() {\n        return _super.call(this) || this;\n    }\n    CompleterBaseData.prototype.cancel = function () { };\n    CompleterBaseData.prototype.searchFieldss = function (searchFields) {\n        this._searchFields = searchFields;\n        return this;\n    };\n    CompleterBaseData.prototype.titleField = function (titleField) {\n        this._titleField = titleField;\n        return this;\n    };\n    CompleterBaseData.prototype.descriptionField = function (descriptionField) {\n        this._descriptionField = descriptionField;\n        return this;\n    };\n    CompleterBaseData.prototype.imageField = function (imageField) {\n        this._imageField = imageField;\n        return this;\n    };\n    CompleterBaseData.prototype.extractMatches = function (data, term) {\n        var matches = [];\n        if (this._searchFields && this._searchFields != \"\") {\n            var searchFields = this._searchFields.split(\",\");\n            for (var i = 0; i < data.length; i++) {\n                var match = false;\n                for (var s = 0; s < searchFields.length; s++) {\n                    var value = this.extractValue(data[i], searchFields[s]) || \"\";\n                    match = match || (value.toString().toLowerCase().indexOf(term.toString().toLowerCase()) >= 0);\n                }\n                if (match) {\n                    matches[matches.length] = data[i];\n                }\n            }\n        }\n        else {\n            matches = data;\n        }\n        return matches;\n    };\n    CompleterBaseData.prototype.extractTitle = function (item) {\n        var _this = this;\n        // split title fields and run extractValue for each and join with ' '\n        return this._titleField.split(\",\")\n            .map(function (field) {\n            return _this.extractValue(item, field);\n        })\n            .join(\" \");\n    };\n    CompleterBaseData.prototype.extractValue = function (obj, key) {\n        var keys;\n        var result;\n        if (key) {\n            keys = key.split(\".\");\n            result = obj;\n            for (var i = 0; i < keys.length; i++) {\n                if (result) {\n                    result = result[keys[i]];\n                }\n            }\n        }\n        else {\n            result = obj;\n        }\n        return result;\n    };\n    CompleterBaseData.prototype.processResults = function (matches, term) {\n        var i;\n        var description;\n        var image;\n        var text;\n        var formattedText;\n        var formattedDesc;\n        var results = [];\n        if (matches && matches.length > 0) {\n            for (i = 0; i < matches.length; i++) {\n                if (this.titleField && this._titleField !== \"\") {\n                    text = formattedText = this.extractTitle(matches[i]);\n                }\n                description = \"\";\n                if (this._descriptionField) {\n                    description = formattedDesc = this.extractValue(matches[i], this._descriptionField);\n                }\n                image = null;\n                if (this._imageField) {\n                    image = this.extractValue(matches[i], this._imageField);\n                }\n                results.push({\n                    title: formattedText,\n                    description: formattedDesc,\n                    image: image,\n                    originalObject: matches[i]\n                });\n            }\n        }\n        return results;\n    };\n    return CompleterBaseData;\n}(Subject));\nexport { CompleterBaseData };\n//# sourceMappingURL=completer-base-data.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { CompleterBaseData } from \"./completer-base-data\";\nvar LocalData = (function (_super) {\n    __extends(LocalData, _super);\n    function LocalData() {\n        return _super.call(this) || this;\n    }\n    LocalData.prototype.data = function (data) {\n        var _this = this;\n        if (data instanceof Observable) {\n            data.subscribe(function (res) {\n                _this._data = res;\n                if (_this.savedTerm) {\n                    _this.search(_this.savedTerm);\n                }\n            });\n        }\n        else {\n            this._data = data;\n        }\n        return this;\n    };\n    LocalData.prototype.search = function (term) {\n        if (!this._data) {\n            this.savedTerm = term;\n        }\n        else {\n            this.savedTerm = null;\n            var matches = this.extractMatches(this._data, term);\n            this.next(this.processResults(matches, term));\n        }\n    };\n    return LocalData;\n}(CompleterBaseData));\nLocalData = __decorate([\n    Injectable(),\n    __metadata(\"design:paramtypes\", [])\n], LocalData);\nexport { LocalData };\n//# sourceMappingURL=local-data.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { Headers } from \"@angular/http\";\nimport \"rxjs/add/operator/map\";\nimport \"rxjs/add/operator/catch\";\nimport { CompleterBaseData } from \"./completer-base-data\";\nvar RemoteData = (function (_super) {\n    __extends(RemoteData, _super);\n    function RemoteData(http) {\n        var _this = _super.call(this) || this;\n        _this.http = http;\n        _this._urlFormater = null;\n        _this._dataField = null;\n        return _this;\n    }\n    RemoteData.prototype.remoteUrl = function (remoteUrl) {\n        this._remoteUrl = remoteUrl;\n        return this;\n    };\n    RemoteData.prototype.urlFormater = function (urlFormater) {\n        this._urlFormater = urlFormater;\n    };\n    RemoteData.prototype.dataField = function (dataField) {\n        this._dataField = dataField;\n    };\n    RemoteData.prototype.headers = function (headers) {\n        this._headers = headers;\n    };\n    RemoteData.prototype.search = function (term) {\n        var _this = this;\n        this.cancel();\n        // let params = {};\n        var url = \"\";\n        if (this._urlFormater) {\n            url = this._urlFormater(term);\n        }\n        else {\n            url = this._remoteUrl + encodeURIComponent(term);\n        }\n        this.remoteSearch = this.http.get(url, { headers: this._headers || new Headers() })\n            .map(function (res) { return res.json(); })\n            .map(function (data) {\n            var matchaes = _this.extractValue(data, _this._dataField);\n            return _this.extractMatches(matchaes, term);\n        })\n            .map(function (matches) {\n            var results = _this.processResults(matches, term);\n            _this.next(results);\n            return results;\n        })\n            .catch(function (err) {\n            _this.error(err);\n            return null;\n        })\n            .subscribe();\n    };\n    RemoteData.prototype.cancel = function () {\n        if (this.remoteSearch) {\n            this.remoteSearch.unsubscribe();\n        }\n    };\n    return RemoteData;\n}(CompleterBaseData));\nexport { RemoteData };\n//# sourceMappingURL=remote-data.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Injectable, Inject } from \"@angular/core\";\nimport { LocalData } from \"./local-data\";\nimport { RemoteData } from \"./remote-data\";\nvar CompleterService = (function () {\n    function CompleterService(localDataFactory, // Using any instead of () => LocalData because on AoT errors\n        remoteDataFactory // Using any instead of () => LocalData because on AoT errors\n    ) {\n        this.localDataFactory = localDataFactory;\n        this.remoteDataFactory = remoteDataFactory; // Using any instead of () => LocalData because on AoT errors\n    }\n    CompleterService.prototype.local = function (data, searchFields, titleField) {\n        var localData = this.localDataFactory();\n        return localData\n            .data(data)\n            .searchFieldss(searchFields)\n            .titleField(titleField);\n    };\n    CompleterService.prototype.remote = function (url, searchFields, titleField) {\n        var remoteData = this.remoteDataFactory();\n        return remoteData\n            .remoteUrl(url)\n            .searchFieldss(searchFields)\n            .titleField(titleField);\n    };\n    return CompleterService;\n}());\nCompleterService = __decorate([\n    Injectable(),\n    __param(0, Inject(LocalData)),\n    __param(1, Inject(RemoteData)),\n    __metadata(\"design:paramtypes\", [Object, Object])\n], CompleterService);\nexport { CompleterService };\n//# sourceMappingURL=completer-service.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, ElementRef, Host } from \"@angular/core\";\nimport { CtrCompleter } from \"./ctr-completer\";\nvar CtrRowItem = (function () {\n    function CtrRowItem(row, index) {\n        this.row = row;\n        this.index = index;\n    }\n    return CtrRowItem;\n}());\nexport { CtrRowItem };\nvar CtrDropdown = (function () {\n    function CtrDropdown(completer, el) {\n        this.completer = completer;\n        this.el = el;\n        this.rows = [];\n        this.completer.registerDropdown(this);\n    }\n    CtrDropdown.prototype.ngOnInit = function () {\n        var css = getComputedStyle(this.el.nativeElement);\n        this.isScrollOn = css.maxHeight && css.overflowY === \"auto\";\n    };\n    CtrDropdown.prototype.ngOnDestroy = function () {\n        this.completer.registerDropdown(null);\n    };\n    CtrDropdown.prototype.registerRow = function (row) {\n        this.rows.push(row);\n    };\n    CtrDropdown.prototype.highlightRow = function (index) {\n        var highlited = this.rows.find(function (row) { return row.index === index; });\n        if (index < 0) {\n            if (this.currHighlited) {\n                this.currHighlited.row.setHighlited(false);\n            }\n            this.currHighlited = undefined;\n            return;\n        }\n        if (!highlited) {\n            return;\n        }\n        if (this.currHighlited) {\n            this.currHighlited.row.setHighlited(false);\n        }\n        this.currHighlited = highlited;\n        this.currHighlited.row.setHighlited(true);\n        this.completer.onHighlighted(this.currHighlited.row.getDataItem());\n    };\n    CtrDropdown.prototype.clear = function () {\n        this.rows = [];\n    };\n    CtrDropdown.prototype.onSelected = function (item) {\n        this.completer.onSelected(item);\n    };\n    CtrDropdown.prototype.selectCurrent = function () {\n        if (this.currHighlited) {\n            this.onSelected(this.currHighlited.row.getDataItem());\n        }\n        else if (this.rows.length > 0) {\n            this.onSelected(this.rows[0].row.getDataItem());\n        }\n    };\n    CtrDropdown.prototype.nextRow = function () {\n        var nextRowIndex = 0;\n        if (this.currHighlited) {\n            nextRowIndex = this.currHighlited.index + 1;\n        }\n        this.highlightRow(nextRowIndex);\n        if (this.isScrollOn && this.currHighlited) {\n            var row = this.currHighlited.row.getNativeElement();\n            if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\n                this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\n            }\n        }\n    };\n    CtrDropdown.prototype.prevRow = function () {\n        var nextRowIndex = -1;\n        if (this.currHighlited) {\n            nextRowIndex = this.currHighlited.index - 1;\n        }\n        this.highlightRow(nextRowIndex);\n        if (this.isScrollOn && this.currHighlited) {\n            var rowTop = this.dropdownRowTop();\n            if (rowTop < 0) {\n                this.dropdownScrollTopTo(rowTop - 1);\n            }\n        }\n    };\n    CtrDropdown.prototype.dropdownScrollTopTo = function (offset) {\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\n    };\n    CtrDropdown.prototype.dropdownRowTop = function () {\n        return this.currHighlited.row.getNativeElement().getBoundingClientRect().top -\n            (this.el.nativeElement.getBoundingClientRect().top +\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10));\n    };\n    CtrDropdown.prototype.dropdownHeight = function () {\n        return this.el.nativeElement.getBoundingClientRect().top +\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight, 10);\n    };\n    CtrDropdown.prototype.dropdownRowOffsetHeight = function (row) {\n        var css = getComputedStyle(row);\n        return row.offsetHeight +\n            parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\n    };\n    return CtrDropdown;\n}());\nCtrDropdown = __decorate([\n    Directive({\n        selector: \"[ctrDropdown]\",\n    }),\n    __param(0, Host()),\n    __metadata(\"design:paramtypes\", [CtrCompleter, ElementRef])\n], CtrDropdown);\nexport { CtrDropdown };\n//# sourceMappingURL=ctr-dropdown.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\nimport { CtrCompleter } from \"./ctr-completer\";\n// keyboard events\nvar KEY_DW = 40;\nvar KEY_RT = 39;\nvar KEY_UP = 38;\nvar KEY_LF = 37;\nvar KEY_ES = 27;\nvar KEY_EN = 13;\nvar KEY_TAB = 9;\nvar CtrInput = (function () {\n    function CtrInput(completer) {\n        var _this = this;\n        this.completer = completer;\n        this.clearSelected = false;\n        this.overrideSuggested = false;\n        this.ngModelChange = new EventEmitter();\n        this._searchStr = \"\";\n        this._displayStr = \"\";\n        this._selectedItem = null;\n        this.completer.selected.subscribe(function (item) {\n            _this._selectedItem = item;\n            if (!item) {\n                return;\n            }\n            if (_this.clearSelected) {\n                _this.searchStr = \"\";\n            }\n            else {\n                _this.searchStr = item.title;\n            }\n            _this.ngModelChange.emit(_this.searchStr);\n        });\n        this.completer.highlighted.subscribe(function (item) {\n            _this._displayStr = item.title;\n            _this.ngModelChange.emit(item.title);\n        });\n    }\n    CtrInput.prototype.onInputChange = function (event) {\n        this.searchStr = event.target.value;\n    };\n    CtrInput.prototype.keyupHandler = function (event) {\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\n            // do nothing\n            return;\n        }\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\n            event.preventDefault();\n        }\n        else if (event.keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.search(this.searchStr);\n        }\n        else if (event.keyCode === KEY_ES) {\n            this._searchStr = this._displayStr;\n            this.completer.clear();\n        }\n        else {\n            if (!this.searchStr) {\n                this.completer.clear();\n                return;\n            }\n            this.completer.search(this.searchStr);\n        }\n    };\n    CtrInput.prototype.keydownHandler = function (event) {\n        if (event.keyCode === KEY_EN) {\n            if (this.completer.hasHighlited()) {\n                event.preventDefault();\n            }\n            this.completer.selectCurrent();\n        }\n        else if (event.keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.nextRow();\n        }\n        else if (event.keyCode === KEY_UP) {\n            event.preventDefault();\n            this.completer.prevRow();\n        }\n        else if (event.keyCode === KEY_TAB) {\n            if (this.overrideSuggested && this._selectedItem) {\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\n            }\n            else {\n                this.completer.selectCurrent();\n            }\n        }\n        else if (event.keyCode === KEY_ES) {\n            // This is very specific to IE10/11 #272\n            // without this, IE clears the input text\n            event.preventDefault();\n        }\n    };\n    CtrInput.prototype.onBlur = function (event) {\n        var _this = this;\n        setTimeout(function () {\n            if (_this.overrideSuggested) {\n                _this.completer.onSelected({ title: _this.searchStr, originalObject: null });\n            }\n            _this.completer.clear();\n        }, 200);\n    };\n    Object.defineProperty(CtrInput.prototype, \"searchStr\", {\n        get: function () {\n            return this._searchStr;\n        },\n        set: function (term) {\n            this._searchStr = term;\n            this._displayStr = term;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CtrInput;\n}());\n__decorate([\n    Input(\"clearSelected\"),\n    __metadata(\"design:type\", Object)\n], CtrInput.prototype, \"clearSelected\", void 0);\n__decorate([\n    Input(\"overrideSuggested\"),\n    __metadata(\"design:type\", Object)\n], CtrInput.prototype, \"overrideSuggested\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], CtrInput.prototype, \"ngModelChange\", void 0);\n__decorate([\n    HostListener(\"input\", [\"$event\"]),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], CtrInput.prototype, \"onInputChange\", null);\n__decorate([\n    HostListener(\"keyup\", [\"$event\"]),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], CtrInput.prototype, \"keyupHandler\", null);\n__decorate([\n    HostListener(\"keydown\", [\"$event\"]),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], CtrInput.prototype, \"keydownHandler\", null);\n__decorate([\n    HostListener(\"blur\", [\"$event\"]),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], CtrInput.prototype, \"onBlur\", null);\nCtrInput = __decorate([\n    Directive({\n        selector: \"[ctrInput]\",\n    }),\n    __param(0, Host()),\n    __metadata(\"design:paramtypes\", [CtrCompleter])\n], CtrInput);\nexport { CtrInput };\n//# sourceMappingURL=ctr-input.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, Host, Input, TemplateRef, ViewContainerRef } from \"@angular/core\";\nimport { Observable } from \"rxjs/Rx\";\nimport { CtrCompleter } from \"./ctr-completer\";\nimport { MIN_SEARCH_LENGTH, PAUSE } from \"../globals\";\nvar CtrListContext = (function () {\n    function CtrListContext(results, searching, searchInitialized) {\n        this.results = results;\n        this.searching = searching;\n        this.searchInitialized = searchInitialized;\n    }\n    return CtrListContext;\n}());\nexport { CtrListContext };\nvar CtrList = (function () {\n    function CtrList(completer, templateRef, viewContainer) {\n        this.completer = completer;\n        this.templateRef = templateRef;\n        this.viewContainer = viewContainer;\n        this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\n        this.ctrListPause = PAUSE;\n        this.ctrListAutoMatch = false;\n        // private results: CompleterItem[] = [];\n        this.term = null;\n        // private searching = false;\n        this.searchTimer = null;\n        this.ctx = new CtrListContext([], false, false);\n    }\n    CtrList.prototype.ngOnInit = function () {\n        this.completer.registerList(this);\n        this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false));\n    };\n    Object.defineProperty(CtrList.prototype, \"dataService\", {\n        set: function (newService) {\n            var _this = this;\n            this._dataService = newService;\n            if (this._dataService) {\n                this._dataService\n                    .catch(function (err) { return _this.handleError(err); })\n                    .subscribe(function (results) {\n                    _this.ctx.searchInitialized = true;\n                    _this.ctx.searching = false;\n                    _this.ctx.results = results;\n                    if (_this.ctrListAutoMatch && results.length === 1 && results[0].title && _this.term &&\n                        results[0].title.toLocaleLowerCase() === _this.term.toLocaleLowerCase()) {\n                        // Do automatch\n                        _this.completer.onSelected(results[0]);\n                    }\n                    _this.refreshTemplate();\n                });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CtrList.prototype.search = function (term) {\n        var _this = this;\n        if (this.term != term) {\n            // Clear selected value\n            this.completer.clear();\n        }\n        if (term && term.length >= this.ctrListMinSearchLength && this.term !== term) {\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n                this.searchTimer = null;\n            }\n            if (!this.ctx.searching) {\n                this.ctx.results = [];\n                this.ctx.searching = true;\n                this.ctx.searchInitialized = true;\n                this.refreshTemplate();\n            }\n            this.searchTimer = Observable.timer(this.ctrListPause).subscribe(function () {\n                _this.searchTimerComplete(term);\n            });\n        }\n    };\n    CtrList.prototype.clear = function () {\n        if (this.searchTimer) {\n            this.searchTimer.unsubscribe();\n            this.searchTimer = null;\n        }\n        if (this.dataService) {\n            this.dataService.cancel();\n        }\n        this.ctx.results = [];\n        this.ctx.searchInitialized = false;\n        this.term = null;\n        this.viewContainer.clear();\n    };\n    CtrList.prototype.searchTimerComplete = function (term) {\n        // Begin the search\n        if (!term || term.length < this.ctrListMinSearchLength) {\n            this.ctx.searching = false;\n            return;\n        }\n        this.term = term;\n        this._dataService.search(term);\n    };\n    CtrList.prototype.handleError = function (error) {\n        this.ctx.searching = false;\n        var errMsg = (error.message) ? error.message :\n            error.status ? error.status + \" - \" + error.statusText : \"Server error\";\n        if (console && console.error) {\n            console.error(errMsg); // log to console \n        }\n        this.refreshTemplate();\n        return Observable.throw(errMsg);\n    };\n    CtrList.prototype.refreshTemplate = function () {\n        // Recreate the template\n        this.viewContainer.clear();\n        this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\n    };\n    return CtrList;\n}());\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CtrList.prototype, \"ctrListMinSearchLength\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CtrList.prototype, \"ctrListPause\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], CtrList.prototype, \"ctrListAutoMatch\", void 0);\n__decorate([\n    Input(\"ctrList\"),\n    __metadata(\"design:type\", Object),\n    __metadata(\"design:paramtypes\", [Object])\n], CtrList.prototype, \"dataService\", null);\nCtrList = __decorate([\n    Directive({\n        selector: \"[ctrList]\",\n    }),\n    __param(0, Host()),\n    __metadata(\"design:paramtypes\", [CtrCompleter,\n        TemplateRef,\n        ViewContainerRef])\n], CtrList);\nexport { CtrList };\n//# sourceMappingURL=ctr-list.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, ElementRef, Host, HostListener, Input, Renderer } from \"@angular/core\";\nimport { CtrDropdown, CtrRowItem } from \"./ctr-dropdown\";\nvar CtrRow = (function () {\n    function CtrRow(el, renderer, dropdown) {\n        this.el = el;\n        this.renderer = renderer;\n        this.dropdown = dropdown;\n        this.selected = false;\n    }\n    CtrRow.prototype.ngOnInit = function () {\n        this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\n    };\n    Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\n        set: function (index) {\n            this._rowIndex = index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CtrRow.prototype, \"dataItem\", {\n        set: function (item) {\n            this._item = item;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CtrRow.prototype.onClick = function (event) {\n        this.dropdown.onSelected(this._item);\n    };\n    CtrRow.prototype.onMouseEnter = function (event) {\n        this.dropdown.highlightRow(this._rowIndex);\n    };\n    CtrRow.prototype.setHighlited = function (selected) {\n        this.selected = selected;\n        this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\n    };\n    CtrRow.prototype.getNativeElement = function () {\n        return this.el.nativeElement;\n    };\n    CtrRow.prototype.getDataItem = function () {\n        return this._item;\n    };\n    return CtrRow;\n}());\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Number),\n    __metadata(\"design:paramtypes\", [Number])\n], CtrRow.prototype, \"ctrRow\", null);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object),\n    __metadata(\"design:paramtypes\", [Object])\n], CtrRow.prototype, \"dataItem\", null);\n__decorate([\n    HostListener(\"click\", [\"$event\"]),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], CtrRow.prototype, \"onClick\", null);\n__decorate([\n    HostListener(\"mouseenter\", [\"$event\"]),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], CtrRow.prototype, \"onMouseEnter\", null);\nCtrRow = __decorate([\n    Directive({\n        selector: \"[ctrRow]\",\n    }),\n    __param(2, Host()),\n    __metadata(\"design:paramtypes\", [ElementRef, Renderer, CtrDropdown])\n], CtrRow);\nexport { CtrRow };\n//# sourceMappingURL=ctr-row.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { HttpModule } from \"@angular/http\";\nimport { CompleterCmp } from \"./components/ng2-completer/completer-cmp\";\nimport { CompleterListItemCmp } from \"./components/ng2-completer/completer-list-item-cmp\";\nimport { CompleterService } from \"./components/ng2-completer/services/completer-service\";\nimport { LocalDataFactoryProvider, RemoteDataFactoryProvider } from \"./components/ng2-completer/services/completer-data-factory\";\nimport { CtrCompleter } from \"./directives/ctr-completer\";\nimport { CtrDropdown } from \"./directives/ctr-dropdown\";\nimport { CtrInput } from \"./directives/ctr-input\";\nimport { CtrList } from \"./directives/ctr-list\";\nimport { CtrRow } from \"./directives/ctr-row\";\nimport { CommonModule } from \"@angular/common\";\nvar Ng2CompleterModule = (function () {\n    function Ng2CompleterModule() {\n    }\n    return Ng2CompleterModule;\n}());\nNg2CompleterModule = __decorate([\n    NgModule({\n        imports: [\n            CommonModule,\n            FormsModule,\n            HttpModule\n        ],\n        declarations: [\n            CompleterListItemCmp,\n            CtrCompleter,\n            CtrDropdown,\n            CtrInput,\n            CtrList,\n            CtrRow,\n            CompleterCmp\n        ],\n        exports: [\n            CompleterCmp,\n            CompleterListItemCmp,\n            CtrCompleter,\n            CtrDropdown,\n            CtrInput,\n            CtrList,\n            CtrRow\n        ],\n        providers: [\n            CompleterService,\n            LocalDataFactoryProvider,\n            RemoteDataFactoryProvider\n        ]\n    }),\n    __metadata(\"design:paramtypes\", [])\n], Ng2CompleterModule);\nexport { Ng2CompleterModule };\n//# sourceMappingURL=ng2-completer.module.js.map"],"names":["localDataFactory","LocalData","remoteDataFactory","http","RemoteData","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","CtrCompleter","this","selected","EventEmitter","highlighted","_hasHighlited","prototype","ngOnInit","registerList","list","registerDropdown","dropdown","onHighlighted","item","emit","onSelected","clear","search","term","selectCurrent","nextRow","prevRow","hasHighlited","Output","Directive","selector","MAX_CHARS","MIN_SEARCH_LENGTH","PAUSE","TEXT_SEARCHING","TEXT_NORESULTS","noop","COMPLETER_CONTROL_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","multi","inputName","pause","minSearchLength","maxChars","overrideSuggested","clearSelected","placeholder","textSearching","textNoResults","autoMatch","disableInput","blur","searchStr","displaySearching","_onTouchedCallback","_onChangeCallback","get","set","enumerable","configurable","onTouched","writeValue","value","registerOnChange","fn","registerOnTouched","_this","completer","subscribe","title","onBlur","Input","String","Number","ViewChild","Component","template","styles","providers","CompleterListItemCmp","parts","matchStr","text","toLowerCase","matchPos","indexOf","startIndex","matchText","slice","push","isMatch","matchPart","__extends","b","__","constructor","p","hasOwnProperty","create","CompleterBaseData","_super","call","cancel","searchFieldss","searchFields","_searchFields","titleField","_titleField","descriptionField","_descriptionField","imageField","_imageField","extractMatches","data","matches","split","match","s","extractValue","toString","extractTitle","map","field","join","obj","keys","result","processResults","description","image","formattedText","formattedDesc","results","originalObject","Subject","Observable","res","_data","savedTerm","next","Injectable","_urlFormater","_dataField","remoteUrl","_remoteUrl","urlFormater","dataField","headers","_headers","url","encodeURIComponent","remoteSearch","Headers","json","matchaes","catch","err","error","unsubscribe","__param","paramIndex","decorator","CompleterService","local","localData","remote","remoteData","Inject","LocalDataFactoryProvider","useFactory","RemoteDataFactoryProvider","deps","Http","CtrRowItem","row","index","CtrDropdown","el","rows","css","getComputedStyle","nativeElement","isScrollOn","maxHeight","overflowY","ngOnDestroy","registerRow","highlightRow","highlited","find","currHighlited","setHighlited","undefined","getDataItem","nextRowIndex","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownScrollTopTo","dropdownRowOffsetHeight","rowTop","dropdownRowTop","offset","scrollTop","top","parseInt","paddingTop","offsetHeight","marginTop","marginBottom","Host","ElementRef","KEY_DW","KEY_RT","KEY_UP","KEY_LF","KEY_ES","KEY_EN","KEY_TAB","CtrInput","ngModelChange","_searchStr","_displayStr","_selectedItem","onInputChange","event","keyupHandler","keyCode","preventDefault","keydownHandler","setTimeout","HostListener","Function","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","searchTimer","ctx","createEmbeddedView","newService","_dataService","handleError","toLocaleLowerCase","refreshTemplate","timer","searchTimerComplete","dataService","errMsg","message","status","statusText","console","throw","TemplateRef","ViewContainerRef","CtrRow","renderer","_rowIndex","_item","onClick","onMouseEnter","setElementClass","Renderer","Ng2CompleterModule","NgModule","imports","CommonModule","FormsModule","HttpModule","declarations"],"mappings":"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"}